{% extends 'base.html' %}

{% block header %}
    <h1>{% block title %}New Recipe{% endblock %}</h1>
{% endblock %}

{% block content %}
    <form method="post">
        <label for="title">Title</label>
        <input name="title" id="title" value="{{ request.form['title'] }}" required>

        <style>
            #newlink {
                width: auto
            }
        </style>
        <form method="post" action="">
            <div id="newlink">

                Ingredient: <select class="js-example-basic-single" name="ing"
                                    style="width:200px;">
                {% for ing in ingredients %}
                    <option>{{ ing }}</option>
                {% endfor %}
            </select>
                Quantity:
                <input name="quantity[]" id="quantity[]" type="number" min=".01" step=".01"
                       value="{{ request.form['title'] }}" required>

                Units:
                <select name="portion_size_unit[]" id="portion_size_unit[]"
                        value="{{ request.form['portion_size_unit'] }}" required>
                    <option value="g">gram(s)</option>
                    <option value="kg">kg(s)</option>
                    <option value="oz">ounce(s)</option>
                    <option value="lb">lb(s)</option>
                    <option value="cup">cup(s)</option>
                    <option value="ml">mililiter(s)</option>
                    <option value="l">liter(s)</option>
                    <option value="gal">gallon(s)</option>
                    <option value="T">Tablespoon(s)</option>
                    <option value="t">teaspoon(s)</option>
                    <option value="in">inch(es)</option>
                    <option value="unit">unit(s)</option>
                </select>
            <a href="javascript:new_link()">Add New </a>
            </div>

            Number of servings:
            <input name="servings" id="servings" type="number" min="1" step="1" value="{{ request.form['servings'] }}"
                   required>

            <label for="body">Instructions</label>
            <textarea name="body" id="body">{{ request.form['body'] }}</textarea>
            <br/>
            <input type="submit" name="submit1">
            <input type="reset" name="reset1">
        </form>




        <!-- Template -->
        <div id="newlinktpl" style="display:none">
            Ingredient: <select class="js-example-basic-single" name="ing {{ ct }}" style="width:200px;">
            {% for ing in ingredients %}
                <option>{{ ing }}</option>
            {% endfor %}
        </select>
            Quantity:
            <input name="quantity[]" id="quantity[]" type="number" min=".01" step=".01"
                   value="{{ request.form['title'] }}" required>

            Units:
            <select name="portion_size_unit[]" id="portion_size_unit[]"
                    value="{{ request.form['portion_size_unit'] }}" required>
                <option value="g">gram(s)</option>
                <option value="kg">kg(s)</option>
                <option value="oz">ounce(s)</option>
                <option value="lb">lb(s)</option>
                <option value="cup">cup(s)</option>
                <option value="ml">mililiter(s)</option>
                <option value="l">liter(s)</option>
                <option value="gal">gallon(s)</option>
                <option value="T">Tablespoon(s)</option>
                <option value="t">teaspoon(s)</option>
                <option value="in">inch(es)</option>
                <option value="unit">unit(s)</option>
            </select>
        </div>


        {% for q in quantities %}
            THIS IS OLD CODE:
            <br>
            Ingredient #{{ q }}:
            <select class="js-example-basic-single" name="ing{{ q }}" style="width:200px;">
                {% for ing in ingredients %}
                    <option>{{ ing }}</option>
                {% endfor %}
            </select>
            Quantity:
            <input name="quantity{{ q }}" id="quantity{{ q }}" type="number" min=".01" step=".01"
                   value="{{ request.form['title'] }}" required>

            Units:
            <select name="portion_size_unit{{ q }}" id="portion_size_unit{{ q }}"
                    value="{{ request.form['portion_size_unit'] }}" required>
                <option value="g">gram(s)</option>
                <option value="kg">kg(s)</option>
                <option value="oz">ounce(s)</option>
                <option value="lb">lb(s)</option>
                <option value="cup">cup(s)</option>
                <option value="ml">mililiter(s)</option>
                <option value="l">liter(s)</option>
                <option value="gal">gallon(s)</option>
                <option value="T">Tablespoon(s)</option>
                <option value="t">teaspoon(s)</option>
                <option value="in">inch(es)</option>
                <option value="unit">unit(s)</option>
            </select>

        {% endfor %}
        <br>
        Number of servings:
        <input name="servings" id="servings" type="number" min="1" step="1" value="{{ request.form['servings'] }}"
               required>
        <br>
        </div>

        <label for="body">Instructions</label>
        <textarea name="body" id="body">{{ request.form['body'] }}</textarea>
        <input type="submit" value="Save">

    </form>

{% endblock %}
