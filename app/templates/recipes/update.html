{% extends 'base.html' %}

{% block header %}
    <h1>{% block title %}Edit "{{ recipe['title'] }}"{% endblock %}</h1>
{% endblock %}

{% block content %}
    <form method="post">

        <label for="title">Title</label>
        <input name="title" id="title" value="{{ recipe['title'] }}" required>

        <div>

            {% for q in quantities %}
                <br>
                Ingredient #{{ q }}:
                <select class="js-example-basic-single" name="ing{{ q }}" style="width:200px;">
                    {% for ing in ingredients %}
                        {% if prepop['ings'][q-1] == ing %}
                            <option selected="selected">{{ ing }}</option>
                        {% else %}
                            <option>{{ ing }}</option>
                        {% endif %}
                    {% endfor %}
                </select>

                Quantity:
                <input name="quantity{{ q }}" id="quantity{{ q }}" value={{ prepop["quantity"][q-1] }} type="number"
                       min=".01" step=".01" value="{{ request.form['title'] }}" required>

                Units:
                <select name="portion_size_unit{{ q }}" id="portion_size_unit{{ q }}"
                        value="{{ request.form['portion_size_unit'] }}" required>

                    {% for unit in units %}
                        {% if prepop['units'][q-1] == unit %}
                            <option value={{ unit }} selected="selected">
                                {% if unit == "g" %}
                                    Gram(s)
                                {% elif unit == "kg" %}
                                    Kilogram(s)
                                {% elif unit == "oz" %}
                                    Ounce(s)
                                {% elif unit == "cup" %}
                                    Cup(s)
                                {% elif unit == "ml" %}
                                    Milliliter(s)
                                {% elif unit == "l" %}
                                    Liter(s)
                                {% elif unit == "gal" %}
                                    Gallon(s)
                                {% elif unit == "in" %}
                                    Inch(es)
                                {% elif unit == "T" %}
                                    Tablespoon(s)
                                {% elif unit == "t" %}
                                    Teaspoons(s)
                                {% elif unit == "unit" %}
                                    Unit(s)
                                {% else %}
                                    {{ unit }}(s)
                                {% endif %}
                            </option>
                        {% else %}
                            <option value={{ unit }}>
                                {% if unit == "g" %}
                                    Gram(s)
                                {% elif unit == "kg" %}
                                    Kilogram(s)
                                {% elif unit == "oz" %}
                                    Ounce(s)
                                {% elif unit == "cup" %}
                                    Cup(s)
                                {% elif unit == "ml" %}
                                    Milliliter(s)
                                {% elif unit == "l" %}
                                    Liter(s)
                                {% elif unit == "gal" %}
                                    Gallon(s)
                                {% elif unit == "in" %}
                                    Inch(es)
                                {% elif unit == "T" %}
                                    Tablespoon(s)
                                {% elif unit == "t" %}
                                    Teaspoons(s)
                                {% elif unit == "unit" %}
                                    Unit(s)
                                {% else %}
                                    {{ unit }}(s)
                                {% endif %}
                            </option>
                        {% endif %}
                    {% endfor %}


                </select>

            {% endfor %}
            <br>
            Number of servings:
            <input name="servings" id="servings" type="number" min="1" step="1" value="{{ recipe['servings'] }}"
                   required>
            <br>
        </div>

        <label for="body">Instructions</label>
        <textarea name="body" id="body">{{ recipe['body'] }}</textarea>
        <input type="submit" value="Save">

    </form>
{% endblock %}

